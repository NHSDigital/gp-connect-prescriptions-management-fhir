# This is an OpenAPI Specification (https://swagger.io/specification/)
# for gp-connect-prescriptions-management-fhir owned by NHS Digital (https://digital.nhs.uk/)
openapi: '3.0.0'
info:
  title: 'GP Connect Prescriptions Management FHIR API'
  version: 'Computed and injected at build time by `scripts/set_version.py`'
  description: |
    ## Overview

    Use this API to manage a patient's prescriptions as held by their GP practice.
    
    You can:

    * request a new instance of a repeat prescription

    * view all of a patients medications, whether acute or repeat, past or present

    * cancel a repeat prescription request
    
    * check the status of a current prescription request

    * request a new instance of a repeat prescription to a one off nomination pharmacy

    The end user must be a patient who is: 

    *  registered with the GP practice 

    *  registered with NHS login to P9 identity verification level

    For example:

    * a patient will be able to view their own medication, request a new instance of a repeat prescription and cancel that request.
    
    ## Who can use this API

    This API can be used by developers of clinical systems that support clinicans delivering direct care. It is a patient facing API.
    
    This API:

    * is intended only for use by patient-facing applications

    * is intended only for non-clinical use

    * can only be used where there is a legal basis to do software

    Make sure you have a valid use case before you go too far with development. To do this, contact us. 

    You must do this before you can go live (see Onboarding below).

    ### Prerequisites 

    Information governance (IG)
    
    You must:

    * be compliant with the GP Connect Direct Care API Information Governance Model

    * manage access to your system locally using role based access control. This does not need to be compliant with the national RBAC model and GP Connect products do not require smartcards to control access, though they can be used if already implemented be using the GP Connect APIs for direct care purposes for NHS patients in England

    Clinical safety 

    You must:

    * have a clinical safety officer (CSO) who is responsible for DCB0129 and, if necessary, DCB0160. For more on clinical risk management, visit Clinical risk management standards

    ## Related APIs
    
    * [EPS (Electronic prescriptions service)](https://digital.nhs.uk/developer/api-catalogue/electronic-prescription-service-fhir#top) - use this API to track the dispensing status of the prescription once it leaves the GP system. 

    * GP Connect User Permissions API - use this API to manage a patient's permissions as held by the GP practice systems.

    * GP Connect Appointments Management FHIR API - use this API to manage GP practice appointments.

    * GP Connect Get Structured Record FHIR API - use this API to manage a patient's medical record from the GP practice systems.

    ## API status and roadmap
    
    * This API is in [development](https://digital.nhs.uk/developer/guides-and-documentation/reference-guide#statuses), Alpha. 

    To see our roadmap or to suggest, comment or vote on features for this API, see our [interactive product backlog.](https://nhs-digital-api-management.featureupvote.com/suggestions/341619/gp-connect-prescriptions-management-fhir)

    If you have any other queries, [contact us](https://digital.nhs.uk/developer/help-and-support)

    ## Service level

    This API is a silver service, meaning it is operational 24 x 7 x 365 but only supported during business hours (8am to 6pm), Monday to Friday excluding bank holidays.
    
    For more details, see [service levels](https://digital.nhs.uk/developer/guides-and-documentation/reference-guide#service-levels).

    ## Technology

    This API is [RESTful](https://digital.nhs.uk/developer/guides-and-documentation/our-api-technologies#basic-rest).

    It conforms to the [FHIR](https://digital.nhs.uk/developer/guides-and-documentation/our-api-technologies#fhir) global standard for health care data exchange, specifically to [FHIR R4 (v4.0.1)](https://hl7.org/fhir/r4/), except that it does not support the [capabilities](http://hl7.org/fhir/R4/http.html#capabilities) interaction.

    It includes some country-specific FHIR extensions, which are built against [FHIR UK Core, specifically [UKcore.stu1 0.5.1](https://simplifier.net/packages/fhir.r4.ukcore.stu1/0.5.1).

    You do not need to know much about FHIR to use this API - FHIR APIs are just RESTful APIs that follow specific rules. In particular:
    
    * resource names are capitalised and singular, for example `/Patient` not `/patients`
    
    * array names are singular, for example `line` not `lines` for address lines
    
    * data items that are country-specific and thus not included in the FHIR global base resources are usually wrapped in an `extension` object

    There are [libraries and software development kits available](https://digital.nhs.uk/developer/guides-and-documentation/api-technologies-at-nhs-digital#fhir-libraries-and-sdks) to help with FHIR API integration.

    ### Documentation

    * [Dictionary of Medicines and Devices (DM+D)](https://www.nhsbsa.nhs.uk/pharmacies-gp-practices-and-appliance-contractors/dictionary-medicines-and-devices-dmd) - the DM+D has the names, descriptions and unique identifiers for medicines and devices that can be prescribed.

    ## Network access

    This API is available on the internet.

    For more details, see [Network access for APIs](https://digital.nhs.uk/developer/guides-and-documentation/network-access-for-apis).

    ## Security and authorisation

    This API is [user-restricted](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis), meaning an end user must be present and authenticated to use it. 

    The end user must bundle:

    * a patient

    * authenticated with NHS login to P9 identity verification level

    The API uses Open ID Connect to authenticate the end user and OAuth 2.0 to authorise the calling system. It supports the following security pattern using NHS login: 
    
    * [User-restricted RESTful APIs - NHS login separate authentication and authorisation](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-login-separate-authentication-and-authorisation)

    ## Environments and testing
    
    |Environment|Base URL|
    |-----------|--------|
    |Sandbox|`https://sandbox.api.service.nhs.uk/gp-connect-prescriptions-management-fhir`|
    |Integration Testing|`Not yet available`|
    |Production|`Not yet available`|

    ### Sandbox testing 

    Our [sandbox environment](https://digital.nhs.uk/developer/guides-and-documentation/testing#sandbox-testing):

    * is for early developer testing

    * only covers a limited set of scenarios

    * is stateless, so it does not store data

    * is open access, so does not allow you to test authorisation

    For more details on sandbox testing, or to try out the sandbox using our "Try this API" feature, see the documentation for each endpoint.

    ### Integration testing (not yet available)
    
    Our [integration test environment](https://digital.nhs.uk/developer/guides-and-documentation/testing#integration-testing):
    
    * is for formal integration testing
    
    * is stateful, so it does persist data
    
    * includes authorisation
    
    For more details see [integration testing with our RESTful APIs](https://digital.nhs.uk/developer/guides-and-documentation/testing#integration-testing-with-our-restful-apis).

    ## Onboarding

    We are hoping to make the assurance process as lightweight and as self-service as possible.

    ## Errors

    We use standard HTTP status codes to show whether an API request succeeded or not. They are usually in the range:

    - 200 to 299 if it succeeded, including code 202 if it was accepted by an API that needs to wait for further action

    - 400 to 499 if it failed because of a client error by your application

    - 500 to 599 if it failed because of an error on our server

    Errors specific to each API are shown in the Endpoints section, under Response. See our [reference guide](https://digital.nhs.uk/developer/guides-and-documentation/reference-guide#http-status-codes) for more on errors.
  contact:
    name: 'gp-connect-prescriptions-management-fhir API Support'
    url: 'https://digital.nhs.uk/developer/help-and-support'
    email: api.management@nhs.net
servers:
  - url: 'https://sandbox.api.service.nhs.uk/gp-connect-prescriptions-management-fhir'
    description: Sandbox environment.
  - url: 'https://int.api.service.nhs.uk/gp-connect-prescriptions-management-fhir'
    description: Integration test environment.
  - url: 'https://api.service.nhs.uk/gp-connect-prescriptions-management-fhir'
    description: Production environment.
x-spec-publication:
  operation-order:
    - operations:
        - method: GET
          path: /FHIR/R4/Task
        - method: PATCH
          path: /FHIR/R4/Task
        - method: POST
          path: /FHIR/R4/Task
        - method: GET
          path: /FHIR/R4/MedicationStatement
tags:
  - name: Prescription request tracking
  - name: Create request
  - name: Cancel request
  - name: View medication
paths: 
  /FHIR/R4/Task/:
    get:
      operationId: get-task
      summary: GET prescription requests
      description: >
        ## Overview
        
        Use this end point to check the status of your current prescription request.
        
        You must provide at least one of the following parameters must be provided:

        * identifier

        * patient:identifier

        * focus:identifier

      tags: 
        - Prescription request tracking
      parameters:
        - in: header
          name: Authorization
          description: >
            An [OAuth 2.0 bearer
            token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).
            Required in all environments except sandbox.
          required: true
          schema:
            type: string
            format: ^Bearer\ [[:ascii:]]+$
            example: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM
        - in: header
          name: X-RequestID
          description: >
            A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.
            
            Must be a universally unique identifier (UUID) (ideally version 4).
            
            Mirrored back in a response header.
            
            If you re-send a failed request, use the same value in this header.

            Required in all environments except sandbox.

          schema:
            type: string
            pattern: '^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$'
            example: 60E0B220-8136-4CA5-AE46-1D97EF59D068
        - in: header
          name: X-Correlation-ID
          required: false
          description: |
            An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.
            Mirrored back in a response header.
          schema:
            type: string
            example: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA        
        - in: query
          name: focus:identifier
          description: |
            The identifier of the MedicationRequest itself you are searching for 
          required: false
          schema: 
            type: string
            example: D7AC09-A99968-4BA59C
        - in: query
          name: patient:identifier
          description: >
            The NHS number of the patient whose requests you arer searching for
          required: false
          schema:
            type: string
            example: '9912003489'
        - in: query
          name: identifier
          description: >
            The identifier of the Task itself
          required: false
          schema:
            type: string
            example: 'D7AC09-A99968-4BA59C'
        - in: query
          name: status
          description: >
            The type of status to search you can find the values [here](https://simplifier.net/packages/hl7.fhir.r4.core/4.0.1/files/80166)
          required: false
          schema:
            type: string
            example: 'requested'
        - in: query
          name: authored-on
          description: >
            Date the prescription was ordered, format: <eq|ge|le>YYYY-MM-DD. To use a range use authored-on=geYYYY-MM-DD&authored-on=leYYYY-MM-DD
          required: false
          schema:
            type: string
          examples:
            exact date:
              value:
                - eq2010-10-22
              description: Exact match date
            greater than or equals:
              value:
                - ge2022-01-15
              description: Greater than or equals which matches 2022-01-15 or 2022-01-16
            less than or equals:
              value: 
                -  le2022-01-15
              description: Less than or equals which matches 2022-01-15 or 2022-01-14
      responses:
        '200':
          description: Successful query
          content: 
            application/fhir+json:
              schema: 
                type: object
              examples:
                example:
                  description: Successful request to view requests for prescriptions
                  value: 
                    resourceType: Bundle
                    id: a96bb563-c86b-4021-903e-5917b927c386
                    identifier: 
                      system: https://tools.ietf.org/html/rfc4122
                      value: a3294018-6c63-4556-8797-f782d1c95480
                    type: searchset
                    entry:
                      - resource: 
                          resourceType: Task
                          id: aef77afb-7e3c-427a-8657-2c427f71a271
                          status: requested
                          intent: order
                          focus: 
                            reference: MedicationRequest/06c7d0e2-1022-4e47-ac55-f6463d701a4f
                          for: 
                            reference: Patient/9000000009
                            display: Jane Smith
                          authoredOn: 2022-11-23T20:20:27+07:00
                          lastModified: 2022-11-23T20:20:27+07:00
                          requester: 
                            reference: Patient/9000000009
                            display: Jane Smith
                          note:
                            - authorString: Patient,
                              text: Ran out of previous prescription
                      - resource:
                          resourceType: Task
                          id: fjugkd8281-4tngn-j4fn-8657-2knrkfjrgu
                          status: rejected
                          statusReason:
                            text: No longer suitable, please contact GP to organise an appointment
                          intent: order
                          focus: 
                              reference: MedicationRequest/b269d1d7-1acf-47bb-8b3c-e38b583d9a07
                          for: 
                            reference: Patient/9000000009
                            display: Jane Smith
                          authoredOn: 2022-08-14T07:20:23+07:00
                          lastModified: 2022-08-14T11:40:47+07:00
                          requester: 
                            reference: Patient/9000000009
                            display: Jane Smith
                      - resource:
                          resourceType: Task
                          id: 84722efb-95b0-4769-921a-eda53382b320
                          status: in-progress
                          intent: order
                          focus: 
                              reference: MedicationRequest/a0531933-0673-45d4-bcb9-80acfd8a9fc7
                          for: 
                            reference: Patient/9000000009
                            display: Jane Smith
                          authoredOn: 2022-10-13T16:20:27+07:00
                          lastModified: 2022-10-15T11:28:13+07:00
                          requester: 
                            reference: Patient/9000000009
                            display: Jane Smith
    post:
      operationId: post-task
      summary: Request a repeat prescription 
      description: >
        ## Overview 

        Use this end point to create a new request for a repeat prescription or repeat dispensing prescription. The same end point can be used to request a prescription to a one off pharmacy nomination - the ODS code is set in MedicationRequest.dispenseRequest.performer. 

        For this, send a task with a focus of the MedicationRequest. The MedicationRequest should be contained within the Task resource.

      tags: 
        - Create request
      parameters:
        - in: header
          name: Authorization
          description: >
            An [OAuth 2.0 bearer
            token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).


            Required in all environments except sandbox.
          required: true
          schema:
            type: string
            format: ^Bearer\ [[:ascii:]]+$
            example: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM
        - in: header
          name: X-RequestID
          description: >
            A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.
            
            Must be a universally unique identifier (UUID) (ideally version 4).
            
            Mirrored back in a response header.
            
            If you re-send a failed request, use the same value in this header.

            Required in all environments except sandbox.

          schema:
            type: string
            pattern: '^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$'
            example: 60E0B220-8136-4CA5-AE46-1D97EF59D068
        - in: header
          name: X-Correlation-ID
          required: false
          description: |
            An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.
            Mirrored back in a response header.
          schema:
            type: string
            example: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA 
      requestBody:
        required: true
        description: Successful Request.
        content: 
          application/fhir+json:
            schema:
              type: object
              description: >
                Example of a valid Task, with contained MedicationRequest 
            example:
                resourceType: Task
                id: 7c747c6e-15c8-4b2f-8aa0-441f2ef703d6
                identifier: 
                  system: https://tools.ietf.org/html/rfc4122
                  value: 30d65c8e-98e8-4806-b6a6-fpwjfkhs729
                contained:
                    resourceType: MedicationRequest
                    id: b269d1d7-1acf-47bb-8b3c-e38b583d9a07
                    status: active
                    intent: order
                    category: 
                      - coding: 
                        - system: http://terminology.hl7.or/CodeSystem/medicationrequest-category
                          code: community
                          display: Community
                    medicationCodeableConcept:
                      - coding: 
                          - system: https://dmd.nhs.uk
                            code: 329526003
                            display: Apirin 300mg dispersible tablets
                    subject:
                      reference: Patient/9000000009
                      display: Jane Smith
                    requester:
                      reference: Patient/9000000009
                      display: Jane Smith
                    courseOfTherapyType:
                      - coding:
                        - system: https://fhir.hl7.org.uk/CodeSystem/UKCore-MedicationRequestCourseOfTherapy
                          code: continuous-repeating-dispensing
                          display: Continuous long term (repeat dispensing)
                    authoredOn: 2022-10-13T16:20:27+07:00
                    substitution:
                      allowedBoolean: false
                    dispenseRequest:
                      performer:
                        reference: Organization/Y12345
                        type: Orgnization
                status: requested
                intent: order
                focus: 
                    reference: "#b269d1d7-1acf-47bb-8b3c-e38b583d9a07"
                for: 
                  reference: Patient/9000000009
                  display: Jane Smith
                authoredOn: 2022-10-13T16:20:27+07:00
                lastModified: 2022-10-13T16:20:27+07:00
                requester: 
                  reference: Patient/9000000009
                  display: Jane Smith
                note: 
                  - authorString: Patient
                    text: ran out of previous prescription
      responses:
        '200':
          description: Successfully submitted.         
    patch:
      operationId: cancel-task
      summary: Cancel an unactioned repeat prescription request
      description: >
        ## Overview 
        
        Use this endpoint to cancel a current request that has not been actioned yet, that is still has the status of "requested".
        
        You must provide the following parameter:
        
        * identifier
        
        The request body would essentially be the same task to create a request but with an updated status of cancelled.
      tags: 
        - Cancel request
      parameters:
        - in: header
          name: Authorization
          description: >
            An [OAuth 2.0 bearer
            token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).

            Required in all environments except sandbox.
          required: true
          schema:
            type: string
            format: ^Bearer\ [[:ascii:]]+$
            example: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM
        - in: header
          name: X-RequestID
          description: >
            A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.
            
            Must be a universally unique identifier (UUID) (ideally version 4).
            
            Mirrored back in a response header.
            
            If you re-send a failed request, use the same value in this header.

            Required in all environments except sandbox.

          schema:
            type: string
            pattern: '^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$'
            example: 60E0B220-8136-4CA5-AE46-1D97EF59D068
        - in: header
          name: X-Correlation-ID
          required: false
          description: |
            An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.
            Mirrored back in a response header.
          schema:
            type: string
            example: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA 
        - in: query
          name: identifier
          description: >
            The identifier of the task to cancel
          required: true
          schema:
            type: string
            example: 'aef77afb-7e3c-427a-8657-2c427f71a271'
      requestBody:
        required: true
        description: Successful Request.
        content: 
          application/fhir+json:
            schema:
              type: object
              description: >
                Task for cancellation
            examples:
              task:
                description: |
                  A valid task
                value:
                  resourceType: Task
                  id: aef77afb-7e3c-427a-8657-2c427f71a271
                  identifier:
                    system: https://tools.ietf.org/html/rfc4122
                    value: 30d65c8e-98e8-4806-b6a6-51e94733f0e9
                  status: cancelled
                  statusReason:
                    text: No longer needed
                  intent: order
                  for: 
                    reference: Patient/9000000009
                    display: Jane Smith
                  lastModified: 2022-10-13T16:20:27+07:00
                  requester: 
                    reference: Patient/9000000009
                    display: Jane Smith  
      responses:
        '200':
          description: Successful request to cancel a request
  /FHIR/R4/MedicationStatement:
    get:
      operationId: get-medicationstatement
      summary: GET medications relating to a patient
      description: >
        ## Overview
        
        This end point returns a MedicationStatement with a contained MedicationRequest and Medication resource.


        The combination of these three can be used to infer whether a prescription is acute, repeat or repeat dispensing.


        For example, an acute medication is represented by a MedicationStatement and two MedicationRequest resources, one must have an intent of plan and the other as order. All three of these should relate to the same Medication resource.


        A repeat prescription or repeat dispensing medication is represented similarly however, there is now a one to many relationship. There can be one MedicationRequest resource with intent of plan and it can relate to many MedicationRequests with an intent of order. However, for all MedicationRequest resources with an intent of order the authoredOn date SHOULD be the same as the related MedicationRequest with intent of plan.

        The request must include the following parameter:

        * patient:identifier

      tags: 
        - View medication
      parameters:
        - in: header
          name: Authorization
          description: >
            An [OAuth 2.0 bearer
            token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).
            Required in all environments except sandbox.
          required: true
          schema:
            type: string
            format: ^Bearer\ [[:ascii:]]+$
            example: Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM
        - in: header
          name: X-RequestID
          description: >
            A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.
            
            Must be a universally unique identifier (UUID) (ideally version 4).
            
            Mirrored back in a response header.
            
            If you re-send a failed request, use the same value in this header.

            Required in all environments except sandbox.

          schema:
            type: string
            pattern: '^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$'
            example: 60E0B220-8136-4CA5-AE46-1D97EF59D068
        - in: header
          name: X-Correlation-ID
          required: false
          description: |
            An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.
            Mirrored back in a response header.
          schema:
            type: string
            example: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA  
        - in: query
          name: patient:identifier
          description: >
            The NHS number of the patient whose requests you arer searching for
          required: false
          schema:
            type: string
            example: '9000000009'
        - in: query
          name: authored-on
          description: >
            Date the prescription was ordered, format: <eq|ge|le>yyyy-mm-dd. To use a range use authored-on=geyyyy-mm-dd&authored-on=leyyyy-mm-dd
          required: false
          schema:
            type: string
          examples:
            exact date:
              value:
                - eq2010-10-22
              description: Exact match date
            greater than or equals:
              value:
                - g2022-01-15
              description: Greater than or equals which matches 2022-01-15 or 2022-01-16
            less than or equals:
              value: 
                -  le2022-01-15
              description: Less than or equals which matches 2022-01-15 or 2022-01-14   
      responses: 
        '200':
          description: Successful request to view medication
          content: 
            application/fhir+json:
              schema: 
                type: object
              examples:
                example:
                  description: Successful response to view medication
                  value: 
                    resourceType: MedicationStatement
                    id: 44f85d15-8744-47c2-a790-4f5e38aacdb0
                    identifier:
                      system: https://tools.ietf.org/html/rfc4122
                      value: 123jkwndf-1234-dgdg-134dd-4f5e38aacdb0
                    meta:
                      - profile: https://fhir.hl7.org.uk/StructureDefinition/UKCore-MedicationStatement
                    contained: 
                      - resource: 
                          resourceType: MedicationRequest
                          id: 7e68abae-a50a-4dd2-8445-7a2aa9936bee
                          meta: 
                            - profile: https://fhir.hl7.org.uk/StructureDefinition/UKCore-MedicationRequest
                          status: completed
                          intent: plan
                          medicationReference:
                            reference: 8b67891-df9n-3nfu-jnvc8-18s08fvhs0
                          subject: 
                            reference:  Patient/9000000009
                          authoredOn: 2018-01-06
                          requester: 
                            reference:  Patient/9000000009
                          substitution: false
                          courseOfTherapyType:
                            - coding:
                                system: https://fhir.hl7.org.uk/CodeSystem/UKCore-MedicationRequestCourseOfTherapy
                                code: continuous
                                display: Continuous long term therapy
                      - resource: 
                          resourceType: Medication
                          id: 8b67891-df9n-3nfu-jnvc8-18s08fvhs0
                          meta:
                            - profile: https://fhir.hl7.org.uk/StructureDefinition/UKCore-Medication
                          code: 
                            coding:
                              - system: http://snomed.info/ct
                                code: 3113111000001106
                                display: Pulmicort 100 Turbohaler (AstraZeneca UK Ltd)
                                text: Pulmicort 100 Turbohaler (AstraZeneca UK Ltd)
                      - resource:
                          resourceType: MedicationRequest
                          id: 7e68abae-a50a-4dd2-8445-7a2aa9936bee
                          meta: 
                            - profile: https://fhir.hl7.org.uk/StructureDefinition/UKCore-MedicationRequest
                          basedOn: 
                            reference: 7e68abae-a50a-4dd2-8445-7a2aa9936bee
                          status: completed
                          intent: order
                          medicationReference:
                            reference: 8b67891-df9n-3nfu-jnvc8-18s08fvhs0
                          subject: 
                            reference: Patient/04603d77-1a4e-4d63-b246-d7504f8bd833
                          authoredOn: 2018-01-06
                          requester: 
                            reference: Patient/04603d77-1a4e-4d63-b246-d7504f8bd833
                          substitution: false
                          courseOfTherapyType:
                            - coding:
                                system: https://fhir.hl7.org.uk/CodeSystem/UKCore-MedicationRequestCourseOfTherapy
                                code: continue
                                display: Continuous long term therapy
                    status: active
                    medicationReference:
                      reference: 8b67891-df9n-3nfu-jnvc8-18s08fvhs0
                    effectivePeriod: 
                      start: 2022-10-23
                      end: 2023-01-10
                    dateAsserted: 2020-01-12
                    basedOn: 
                      reference: 7e68abae-a50a-4dd2-8445-7a2aa9936bee